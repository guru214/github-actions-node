pipeline {
    agent any
        options {
            timeout(time: 10, unit:'MINUTES')
        }
        triggers {
            pollSCM('H */3 * * 1-5')
        }
        stages {
            stage('git cloning') {
                steps {
                    git url : 'https://github.com/guru214/github-actions-node.git',
                    branch : main 
                    }
                }
                stage('install') {
                    steps {
                      sh script : 'npm install'  
                    }
                }
                stage('install the dependencies') {
                    steps {
                        sh script : 'npm install --save-dev nodemon'
                    }
                }
                stage('build and package'){
                    steps {
                        sh script : 'npm start'
                    }
                }

            }

        }
    